$(document).ready(function(){
	
	//SubMenu Activation
	//Horizotal scroll Arrow for tables in mobile
	$("div").delegate("#navbar li a", "click", function(e){ 
		$('#navbar li').removeClass('active');
		$(this).closest( "li" ).addClass('active');
	});
	
	

	// whenever we hover over a menu item that has a submenu
	$("div").delegate("li.subMenuActive", "mouseover", function(e){  
		var $menuItem = $(this),
			$submenuWrapper = $('> .subMenu', $menuItem);
		
		// grab the menu item's position relative to its positioned parent
		var menuItemPos = $menuItem.position();
		// place the submenu in the correct position relevant to the menu item
		$submenuWrapper.css({
		  top: menuItemPos.top,
		  left: menuItemPos.left + Math.round($menuItem.outerWidth() * 0.75)
		});
	  });
	  $(document).on("mouseover", '.left_menu_slider ul li', function (e) { 
		e.stopPropagation();
		var topVal;
		var $menuItem = $(this),
		$submenuWrapper = $('> ul', $menuItem);

		// grab the menu item's position relative to its positioned parent
		var menuItemPos = $menuItem.position();
		
		var p = $( "#footer" );
		var offset = p.offset();
		($menuItem.find("#quick_links_sub").length) ? topVal = menuItemPos.top - 100 : topVal = menuItemPos.top;

		// place the submenu in the correct position relevant to the menu item
		$submenuWrapper.css({
			top: topVal,
			left: menuItemPos.left + Math.round($menuItem.outerWidth())
		});
	});
	
	var i=0;
	$(document).on("mouseenter", '.mainMenu a', function (e) {
		var quick_nh = $(this).parent().find(".quick_links_nh");
		if(quick_nh.height() > 241){ 
			i++; 
			if($(document).width() > 768) { 
				quick_nh.height(242);
			}
			if(i==1){
				$('.quick_links_nh').enscroll({
					verticalTrackClass: 'track4',
					verticalHandleClass: 'handle4',
					minScrollbarLength: 20
				});
			}
		}else{
			quick_nh.css("padding-right",0);
		}
	});
	$(document).on("mouseenter", '.mainMenu a.submenu-arrow', function (e) { 
		if($(this).parent().find(".quick_links_nh").height() > 241){ 
			i++;
			$(this).parent().find(".quick_links_nh").height(242);
			if(i==1){
				$('.quick_links_nh').enscroll({
					verticalTrackClass: 'track4',
					verticalHandleClass: 'handle4',
					minScrollbarLength: 20
				});
			}
		}
	});
	if($('.quick_links_sub').height() > 150){
		$('.quick_links_sub').height(150);
		$('.quick_links_sub').enscroll({
			verticalTrackClass: 'track4',
			verticalHandleClass: 'handle4'
		});
		$('div:has(> .enscroll-track)').addClass('childscroll');
	}

	if($('.scrollArrow').length) {
		$('.scrollArrow').scroltable();
	}
	
	//Useful Links Hover
	$("#useful-links").hover(            
	function() {
		$('.dropdown-menu', this).stop( true, true ).fadeIn("fast");
		$(this).toggleClass('open');
		$('b', this).toggleClass("caret caret-up");                
	},
	function() {
		$('.dropdown-menu', this).stop( true, true ).fadeOut("fast");
		$(this).toggleClass('open');
		$('b', this).toggleClass("caret caret-up");                
	});
	
	$("#myModal").modal('show');
	
	//Table hover
	$('.content_table tr').click(function() { 
		if (!$(this).closest('.content_table').hasClass('table-list')) {
			if(!$(this).hasClass('tr-disable')) { 
			$(this).find('input:radio').prop('checked', true);
			$('input:radio:not(:checked)').parents("tr").removeClass("highlightrow");
			$('input:radio:checked').parents("tr").addClass("highlightrow");
			
			$(this).find('input:checkbox').trigger('click');
			$('input:checkbox:not(:checked)').parents("tr").removeClass("highlightrow");
			$('input:checkbox:checked').parents("tr").addClass("highlightrow");
		    }
		 }
	});	
	
	/*Main menu dropdown touch event for mobile & defaul in desktop - starts*/
	if($(document).width() < 768) { 
		$("div").delegate("#navbar > div.dropdown span", "click", function(e){ 
			e.stopPropagation();
			e.preventDefault();
			$("#navbar").find('.active').removeClass('active');
			$(this).parent().parent().siblings().find('.dropdown-menu').hide();
			$(this).parent().parent().find('.dropdown-menu').slideToggle();
            
		});
		$("div").find( ".scrollwitharrow.scrollbox" ).removeClass("scrollbox").addClass("scrollbox1");
		setTimeout(function(){ 
			$('.scrollArrow').scroltable();
		}, 1000);
		
	}
	/*Main menu dropdown touch event for mobile & defaul in desktop - ends*/
	
	//Dropdown show/hide content - Starts
	$(document).ready(function(){
		 $( ".dropdown_select" ).change(function(){
			$( ".show_dropdown_content" ).show()
		});	
	});
	//Dropdown show/hide content - Ends
	
	
	/*Date picker - Starts*/
	
	if (typeof datepicker !== 'undefined' && $.isFunction(datepicker)) {
		$('.datepicker-currentdate').datepicker('setDate', 'now');
	}
	if($('.datepicker-container')[0]) { 
		$('.datepicker-container input').datepicker({'todayHighlight': true, autoclose: true, format: 'dd/mm/yyyy'});
	}
	if($('.datepicker-highlight-today')[0]) { 
		$('.datepicker-highlight-today  input').datepicker({'todayHighlight': true, autoclose: true, format: 'dd/mm/yyyy', 'update' : new Date()});
	}
	if($('.datepicker-container-fromtoday')[0]) {
		$('.datepicker-container-fromtoday input').datepicker({'todayHighlight': true, autoclose: true, startDate: '0' , endDate: '', format: 'dd/M/yyyy'});
	}
	if($('.datepicker-container-tilltoday')[0]) {
		$('.datepicker-container-tilltoday input').datepicker({'todayHighlight': true, autoclose: true, startDate: '' , endDate: '0', format: 'dd/mm/yyyy'});
	}
	if($('.datepicker-container-fromtomorrow')[0]) {
		$('.datepicker-container-fromtomorrow input').datepicker({autoclose: true, startDate: '+1d' , endDate: '', format: 'dd/M/yyyy'});
	}
	
	if($('.datepicker-container-fromtomorrow-1yr')[0]) {
		$('.datepicker-container-fromtomorrow-1yr input').datepicker({autoclose: true, startDate: '+1d' ,  endDate: '+1y',  format: 'dd/M/yyyy', "setDate": new Date()});
		$(".datepicker-container-fromtomorrow-1yr input").datepicker("update", '+1d');
	}
	if($('.datepicker-container-fromADate')[0]) { 
		$('.datepicker-container-fromADate input').datepicker({'todayHighlight': true, autoclose: true, format: 'dd/M/yyyy'}).on('click', function (e) {
			if($("#enterDate").siblings('.minDate').val().length) {
				var minDate = $(this).siblings('.minDate').val();
				$('#enterDate').datepicker('setStartDate', minDate);
			}
			if($("#enterDate").siblings('.maxDate').val().length) {
				var maxDate = $(this).siblings('.maxDate').val();
				$('#enterDate').datepicker('setEndDate', maxDate);
			}
		});
	}
	if($('.datepicker-container-year-only')[0]) { 
		$('.datepicker-container-year-only input').datepicker({ autoclose: true, format: 'yyyy', viewMode: "years", minViewMode: "years" });
	}
	if($('.datepicker-container-yearandmonth')[0]) { 
		$('.datepicker-container-yearandmonth input').datepicker({ autoclose: true, format: 'mm/yyyy', viewMode: "years", minViewMode: "months"});
	}
	/*Date picker - Ends*/
	
	
	
	/*selcect option radio for payment*/
	$('input[type="radio"]').click(function(){
        if($(this).attr("value")=="radio1"){
            $(".box").not(".radio1").hide();
            $(".radio1").fadeIn("slow");
        }
        if($(this).attr("value")=="radio2"){
            $(".box").not(".radio2").hide();
            $(".radio2").fadeIn("slow");
        }
        if($(this).attr("value")=="radio3"){
            $(".box").not(".radio3").hide();
            $(".radio3").fadeIn("slow");
        }
		 if($(this).attr("value")=="radio4"){
            $(".box").not(".radio4").hide();
            $(".radio4").fadeIn("slow");
        }

        if($(this).attr("value")=="radio5"){
            $(".radio6").hide();
            $(".radio5").fadeIn("slow");
        }
		 if($(this).attr("value")=="radio6"){
            $(".radio5").hide();
            $(".radio6").fadeIn("slow");
        }
    });	
	/*selcect option radio for payment*/
	
	
	//Custom Select
	$(".custom-select").each(function(){
		$(this).wrap("<span class='select-wrapper'></span>");
		$(this).after("<span class='holder'></span>");
	});
	
	$(".custom-select").change(function(){
		var selectedOption = $(this).find(":selected").text();
		$(this).next(".holder").text(selectedOption);

	}).trigger('change');
	
	//Move to Top
	$("#back-top").hide();
	$(function () {
        $(window).scroll(function () {
            if ($(this).scrollTop() > 100) {
                $("#back-top").fadeIn()
            } else {
                $("#back-top").fadeOut()
            }
        });
        $("#back-top a").click(function () {
            $("body,html").animate({
                scrollTop: 0
            }, 800);
            return false
        })
    });
	
	$('.feed-back').click(function() {
		var clicks = $(this).data('clicks');
		if (clicks) {
			$(this).find(".fa-chevron-down").css({"-ms-transform": "rotate(0deg)", "-webkit-transform": "rotate(0deg)" , "transform": "rotate(0deg)" , "-webkit-transition-duration": "1s" , "-moz-transition-duration": "1s" , "-o-transition-duration": "1s" , "transition-duration": "0.5s"});
		} else {
			$(this).find(".fa-chevron-down").css({"-ms-transform": "rotate(180deg)", "-webkit-transform": "rotate(180deg)" , "transform": "rotate(180deg)" , "-webkit-transition-duration": "1s" , "-moz-transition-duration": "1s" , "-o-transition-duration": "1s" , "transition-duration": "0.5s"});
		}
		$(this).data("clicks", !clicks);
		$(".col-87").slideToggle("500");
	});
		
	
	
	// Tooltip
	$('[data-toggle="tooltip"]').tooltip({
        placement : 'bottom',
		html: true
    });
	tableScroll();
	
});

	// Table scroll
	//alert($('.scrollbox').height());
	function tableScroll() {
	if($('.scrollbox tbody').height() > 170){
		$('.scrollbox tbody').height(170);
		
		$('.scrollbox tbody').enscroll({
			verticalTrackClass: 'track4',
			verticalHandleClass: 'handle4'
		});
		$('.scrollbox tbody').width('99.2%');
	} else {
		$('.scrollbox').width('98%');
	}
	
	$( ".tmenu" ).click(function() {
	  $(this).next('ul.ul_tsubmenu').slideToggle();
	  $(this).find("span" ).toggleClass("arrow-down arrow-up");
	});

	$('.menu').click(function(e) { 
	  $(this).next('ul.ul_submenu').slideToggle();
	  $(this).find("span" ).toggleClass("arrow-down-blue arrow-up-blue");
	});

	// autohide alert start
	$('.color-box .alert[data-auto-dismiss]').each(function (index, element) {
        var $element = $(element),
            timeout  = $element.data('auto-dismiss') || 5000;

        setTimeout(function () {
            $element.hide("medium");
        }, timeout);
    });
	// autohide alert end
	
	
	
	
	}
function hideShowElement(elem1, elem2){
	$('#'+elem1).hide();
	$('#'+elem2).show();
}

function showElement(elem){
	$('#'+elem).show();
}

function onCheckShowHide($this, elem) {
	($this.is(':checked')) ? $(elem).fadeIn() : $(elem).fadeOut();
}
function showMe(elem) {
	$(elem).show();
}
function hideMe(elem) {
	$(elem).hide();
}

/* Open when someone clicks on the span element */
$(document).on("click", '#openNav', function (e) { 
	$( "#myNav" ).css('width','100%');
	$( "#navbar" ).appendTo( ".overlay-content" );
});
/* Close when someone clicks on the "x" symbol inside the overlay */
$(document).on("click", '#closeNav', function (e) { 
	$( "#navbar" ).removeClass("in").attr("aria-expanded","false");
	$( "#myNav" ).css('width','0%');
});